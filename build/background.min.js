!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=163)}({11:function(e,n){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},163:function(e,n,t){"use strict";t.r(n);var r=t(33),o=t.n(r),i=t(32),u=t.n(i),s=t(11),c=t.n(s),a=t(2),f=t(8),l=t(25),d=t.n(l),h=t(26),g=t.n(h),b=function(e,n){if(a.J.FORWARD.test(n)){if(new RegExp(n.replace("??","\\?\\?"),"i").test(e))return f.d.REG}else if(e.indexOf(n)>-1)return f.d.STRING;return!1},p=function(){function e(){d()(this,e),this._lastRequestId=null,this._disabled=f.b.YES,this._config={},this._originRequest=new Map,this._originRequestHeaders=new Map,this._urls=new Array(200)}return g()(e,[{key:"onHeadersReceivedCallback",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=this.config.cors,r=!1;if(t&&t.length&&t.forEach(function(n){b(e.url,n)&&(r=!0)}),this.disabled===f.b.NO||!n||!r)return{};e.url;var o=[],i=(this._originRequest.get(e.requestId)?this._originRequest.get(e.requestId):e.initiator)||a.l;if(e.responseHeaders&&e.responseHeaders.filter){var u=!1,s=a.s;o=e.responseHeaders.filter(function(e){return a.g.ORIGIN===e.name.toLowerCase()&&(s=e.value),a.g.CREDENTIALS===e.name.toLowerCase()&&(u=e.value),[a.g.ORIGIN,a.g.CREDENTIALS,a.g.METHODS,a.g.HEADERS].indexOf(e.name.toLowerCase())<0}),u&&(i=s)}i===a.l&&this._originRequest.get(e.requestId)===a.D&&(i=a.l),o.push({name:a.g.ORIGIN,value:i}),o.push({name:a.g.CREDENTIALS,value:a.j}),o.push({name:a.g.METHODS,value:a.k});var c=a.s;return this._originRequestHeaders.get(e.requestId)&&(c=","+this._originRequestHeaders.get(e.requestId)),o.push({name:a.g.HEADERS,value:a.m+c}),{responseHeaders:o}}},{key:"redirectToMatchingRule",value:function(e){var n=this.config.proxy,t=e.url;if(!n||!n.length||a.J.CHROME_EXTENSION.test(t))return{};/http(s?):\/\/.*\.(js|css|json|jsonp)/.test(t)&&this._urls.indexOf(t)<0&&(this._urls.shift(),this._urls.push(t));try{for(var r=0;r<n.length;r++){var o=n[r];if(o&&o[0]&&"string"==typeof o[1]){var i=o[0],u=b(t,i);if(e.requestId!==this._lastRequestId)if(u===f.d.REG){var s=new RegExp(i.replace("??","\\?\\?"),"i");t=t.replace(s,o[1])}else u===f.d.STRING&&(t=t.split(o[0]).join(o[1]))}}}catch(e){console.error("rule match error",e)}return this._lastRequestId=e.requestId,t===e.url?{}:{redirectUrl:t}}},{key:"onBeforeSendHeadersCallback",value:function(e){for(var n=[],t=0;t<e.requestHeaders.length;++t){var r=e.requestHeaders[t].name.toLowerCase();r===a.E?this._originRequest.set(e.requestId,e.requestHeaders[t].value):(r===a.a||a.J.X_HEADER.test(r))&&n.push(r)}return n.length&&this._originRequestHeaders.set(e.requestId,n.join(",")),{requestHeaders:e.requestHeaders}}},{key:"onBeforeRequestCallback",value:function(e){return this.redirectToMatchingRule(e)}},{key:"urls",get:function(){return this._urls}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e}},{key:"config",get:function(){return this._config},set:function(e){this._config=u()({},e)}}]),e}();window._forward||(window._forward=new p);var m,w,v,R,y=window._forward,E=!1,O=!0,q=!0,I=!1,_=["0"];m={},c()(m,a.I,[]),c()(m,a.i,[]);function S(e){var n=o()(_),t=e[0];return n.forEach(function(n){e[n]&&"0"!==n&&(e[n][a.I]&&(t[a.I]||(t[a.I]=[]),t[a.I]=[].concat(o()(t[a.I]),o()(e[n][a.I]))),e[n][a.i]&&(t[a.i]||(t[a.i]=[]),t[a.i]=[].concat(o()(t[a.i]),o()(e[n][a.i]))))}),t}function j(e,n){var t=chrome.browserAction;t.setBadgeText({text:a.s+e}),t.setBadgeBackgroundColor({color:n})}function H(){I?j(f.a.ERROR,f.c.ERROR):y[a.q]!==f.b.NO?j(y[a.w][a.I].length,f.c.ON):j(f.a.OFF,f.c.OFF)}chrome.storage.sync.get((v={},c()(v,a.w,{0:(w={},c()(w,a.I,[]),c()(w,a.i,[]),w)}),c()(v,a.b,["0"]),v),function(e){if(_=e[a.b],e&&e[a.w]){var n=S(e[a.w]);y[a.w]=u()({},n)}else{var t;y[a.w]=(t={},c()(t,a.I,[]),c()(t,a.i,[]),t),I=!1}}),chrome.storage.sync.get((R={},c()(R,a.q,f.b.YES),c()(R,a.f,f.b.YES),c()(R,a.h,f.b.YES),R),function(e){y[a.q]=e[a.q],O=e[a.f]===f.b.YES,q=e[a.h]===f.b.YES,H()}),chrome.storage.onChanged.addListener(function(e){var n;if(e[a.b]&&(_=e[a.b].newValue),e[a.w]){var t=S(e[a.w].newValue);y[a.w]=u()({},t)}e[a.q]&&(y[a.q]=e[a.q].newValue),e[a.f]&&(O=e[a.f].newValue===f.b.YES),e[a.h]&&(q=e[a.h].newValue===f.b.YES),chrome.storage.sync.get(c()({},a.w,{0:(n={},c()(n,a.I,[]),c()(n,a.i,[]),n)}),function(e){if(e&&e[a.w]){var n=S(e[a.w]);y[a.w]=u()({},n)}H()})}),chrome.webRequest.onBeforeRequest.addListener(function(e){return y[a.q]!==f.b.NO?(O&&function(){if(!E){E=!0;var e=a.A,n=(new Date).getTime()-e;chrome.browsingData.removeCache({since:n},function(){E=!1})}}(),y.onBeforeRequestCallback(e)):{}},{urls:[a.c]},[a.e]),chrome.webRequest.onHeadersReceived.addListener(function(e){return y.onHeadersReceivedCallback(e,q)},{urls:[a.c]},[a.e,a.L]),chrome.webRequest.onBeforeSendHeaders.addListener(function(e){return y.onBeforeSendHeadersCallback(e)},{urls:[a.c]},[a.e,a.K])},2:function(e,n,t){"use strict";t.d(n,"J",function(){return r}),t.d(n,"c",function(){return o}),t.d(n,"e",function(){return i}),t.d(n,"K",function(){return u}),t.d(n,"L",function(){return s}),t.d(n,"m",function(){return c}),t.d(n,"g",function(){return a}),t.d(n,"a",function(){return f}),t.d(n,"l",function(){return l}),t.d(n,"k",function(){return d}),t.d(n,"j",function(){return h}),t.d(n,"E",function(){return g}),t.d(n,"q",function(){return b}),t.d(n,"w",function(){return p}),t.d(n,"v",function(){return m}),t.d(n,"r",function(){return w}),t.d(n,"P",function(){return v}),t.d(n,"b",function(){return R}),t.d(n,"f",function(){return y}),t.d(n,"i",function(){return E}),t.d(n,"h",function(){return O}),t.d(n,"I",function(){return q}),t.d(n,"A",function(){return I}),t.d(n,"M",function(){return _}),t.d(n,"z",function(){return S}),t.d(n,"G",function(){return j}),t.d(n,"H",function(){return H}),t.d(n,"C",function(){return k}),t.d(n,"B",function(){return x}),t.d(n,"u",function(){return C}),t.d(n,"p",function(){return N}),t.d(n,"F",function(){return T}),t.d(n,"s",function(){return A}),t.d(n,"y",function(){return D}),t.d(n,"d",function(){return M}),t.d(n,"t",function(){return F}),t.d(n,"x",function(){return L}),t.d(n,"O",function(){return P}),t.d(n,"D",function(){return G}),t.d(n,"N",function(){return B}),t.d(n,"n",function(){return Y}),t.d(n,"o",function(){return X});var r={TRIM_JSON:/(,+)([^a-z0-9["])/gi,CHROME_EXTENSION:/^chrome-extension:\/\//i,FORWARD:/\\|\[|]|\(|\)|\*|\$|\^/i,WHITESPACE:/\s+/g,X_HEADER:/^x-/},o="<all_urls>",i="blocking",u="requestHeaders",s="responseHeaders",c="Content-Type, access-control-allow-headers, Authorization, X-Requested-With, X-Referer",a={METHODS:"access-control-allow-methods",CREDENTIALS:"access-control-allow-credentials",ORIGIN:"access-control-allow-origin",HEADERS:"access-control-allow-headers"},f="access-control-request-headers",l="*",d="*",h="true",g="origin",b="disabled",p="config",m="config_for_shown",w="config_editing_key",v="tab_list",R="active_keys",y="clearCacheEnabled",E="cors",O="corsEnabled",q="proxy",I=6048e5,_="rule",S="json",j="XSwitch.html",H="./",k="./lib/monaco-editor/min/vs",x="vs/language/json/monaco.contribution",C="https://yuque.com/jiushen/blog/xswitch-readme",N="source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace",T="Mac",A="",D="keydown",M="anyString",F="editor.action.formatDocument",L=83,P="always",G="null",B='[\n  "${1:from}",\n  "${1:to}",\n],',Y='{\n  // Use IntelliSense to learn about possible links.\n  // Type `rule` to quick insert rule.\n  // 输入 rule 来快速插入规则\n  // For more information, visit: https://github.com/yize/xswitch\n  "proxy": [\n    [\n      ".production.min.js",\n      // ".production(.min)?.js",\n      ".development.js"\n      // "react.development.js",\n    ],\n    // then try visit https://unpkg.com/react@16.4.1/umd/react.production.min.js\n  ],\n  // urls that want CORS\n  "cors": [\n    "mocks.a.com",\n    "mocks.b.com"\n  ]\n}\n',X='{\n  // Use IntelliSense to learn about possible links.\n  // Type `rule` to quick insert rule.\n  // 输入 rule 来快速插入规则\n  // For more information, visit: https://github.com/yize/xswitch\n  "proxy": [\n    // [\n      // ".production(.min)?.js",\n      // "react.development.js",\n    // ],\n  ],\n  "cors": [\n    // "mocks.a.com",\n    // "mocks.b.com"\n  ]\n}\n'},25:function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},26:function(e,n){function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},32:function(e,n,t){var r=t(11);e.exports=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){r(e,n,t[n])})}return e}},33:function(e,n,t){var r=t(87),o=t(88),i=t(89);e.exports=function(e){return r(e)||o(e)||i()}},8:function(e,n,t){"use strict";var r,o,i,u;t.d(n,"d",function(){return r}),t.d(n,"b",function(){return o}),t.d(n,"c",function(){return i}),t.d(n,"a",function(){return u}),function(e){e.REG="reg",e.STRING="string"}(r||(r={})),function(e){e.YES="enabled",e.NO="disabled"}(o||(o={})),function(e){e.ON="#1890ff",e.OFF="#bfbfbf",e.ERROR="#f5222d"}(i||(i={})),function(e){e.ERROR="Error",e.OFF="OFF",e.ON="ON"}(u||(u={}))},87:function(e,n){e.exports=function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}},88:function(e,n){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},89:function(e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}}});